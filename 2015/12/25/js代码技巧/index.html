<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>js代码技巧 | Jar-R</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Boolean这个技巧用的很多，也非常的简单!!’foo’
通过两个取反，可以强制转换为Boolean类型。较为常用。
number这个也特别简单，String转化为Number+’45’
+new Date会自动转化为number类型的。较为常用。IIFE这个其实非常有实用价值，不算是装逼。只是其他语言里没有这么玩的，给不太了解js的同学看那可牛逼大了。1(function(arg) &amp;#123">
<meta property="og:type" content="article">
<meta property="og:title" content="js代码技巧">
<meta property="og:url" content="http://Jarweb.com/2015/12/25/js代码技巧/index.html">
<meta property="og:site_name" content="Jar-R">
<meta property="og:description" content="Boolean这个技巧用的很多，也非常的简单!!’foo’
通过两个取反，可以强制转换为Boolean类型。较为常用。
number这个也特别简单，String转化为Number+’45’
+new Date会自动转化为number类型的。较为常用。IIFE这个其实非常有实用价值，不算是装逼。只是其他语言里没有这么玩的，给不太了解js的同学看那可牛逼大了。1(function(arg) &amp;#123">
<meta property="og:updated_time" content="2016-07-13T17:03:33.055Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="js代码技巧">
<meta name="twitter:description" content="Boolean这个技巧用的很多，也非常的简单!!’foo’
通过两个取反，可以强制转换为Boolean类型。较为常用。
number这个也特别简单，String转化为Number+’45’
+new Date会自动转化为number类型的。较为常用。IIFE这个其实非常有实用价值，不算是装逼。只是其他语言里没有这么玩的，给不太了解js的同学看那可牛逼大了。1(function(arg) &amp;#123">
  
    <link rel="alternative" href="/atom.xml" title="Jar-R" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://img.ycwb.com/news/attachement/jpg/site2/20120717/001e90704bd5116f25f84a.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">任先生在路上</a></h1>
		</hgroup>

		
		<p class="header-subtitle" style="margin-bottom:20px;">Good things are coming !</p>
		

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">列表</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Jarweb" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/" title="weibo">weibo</a>
					        
						</div>
					</nav>
				</section>
				
				
				
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger" style="display:none;"></div>
  		<h1 class="header-author js-mobile-header hide">任先生在路上</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://img.ycwb.com/news/attachement/jpg/site2/20120717/001e90704bd5116f25f84a.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">任先生在路上</h1>
			</hgroup>
			
			<p class="header-subtitle">Good things are coming !</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">列表</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Jarweb" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-js代码技巧" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/25/js代码技巧/" class="article-date">
  	<time datetime="2015-12-24T16:00:00.000Z" itemprop="datePublished">2015-12-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      js代码技巧
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js原生/">js原生</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Boolean这个技巧用的很多，也非常的简单<br>!!’foo’</p>
<p>通过两个取反，可以强制转换为Boolean类型。较为常用。</p>
<p>number这个也特别简单，String转化为Number<br>+’45’</p>
<p>+new Date<br>会自动转化为number类型的。较为常用。IIFE这个其实非常有实用价值，不算是装逼。只是其他语言里没有这么玩的，给不太了解js的同学看那可牛逼大了。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(function(arg) &#123;&#10;    // do something&#10;&#125;)(arg)</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>实用价值在于可以防止全局污染。不过现在随着ES2015的普及已经没什么必要用这个了，我相信五年之后，这种写法就会逐渐没落。自己干五年，在实习生面前装逼用也是蛮不错的嘛~<br>Closure闭包嘛，js 特别好玩的一个地方。上面的立即执行函数就是对闭包的一种运用。<br>不了解的回去翻翻书，知乎上也有很多讨论，可以去看看。<br>闭包用起来对初学者来说简直就是大牛的标志(其实并不是)。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var counter = function() &#123;&#10;    var count = 0&#10;    return function() &#123;&#10;        return count++&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面用到了闭包，看起来还挺装逼的吧。不过好像没什么实用价值。那么这样呢？<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var isType = function(type) &#123;&#10;    return function(obj) &#123;&#10;        return toString.call(obj) == &#39;[Object &#39; + type + &#39;]&#39;;&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>通过高阶函数很轻松的实现判定类别。(别忘了有判定Array的Array.isArray())当然，很明显，这只是基础，并不能更装逼一点。来看下一节<br>Event事件响应前端肯定都写烂了，一般来说如何写一个计数器呢？<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var times = 0var foo = document.querySelector(&#39;.foo&#39;)&#10;foo.addEventListener(&#39;click&#39;, function() &#123;&#10;    times++&#10;    console.log(times)&#10;&#125;, false)</span><br></pre></td></tr></table></figure></p>
<p>好像是没什么问题哦，但是！变量times为什么放在外面，就用了一次放在外面，命名冲突了怎么办，或者万一在外面修改了怎么办。这个时候这样一个事件监听代码就比较牛逼了<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo.addEventListener(&#39;click&#39;, (function() &#123;&#10;    var times = 0&#10;    return function() &#123;&#10;        times++&#10;        console.log(times)&#10;    &#125;&#10;&#125;)(), false)</span><br></pre></td></tr></table></figure></p>
<p>怎么样，是不是立刻感觉不一样了。瞬间逼格高了起来！通过创建一个闭包，把times封装到里面，然后返回函数。这个用法不太常见。<br>parseInt高能预警<br>从这里开始，下面的代码谨慎写到公司代码里！<br>parseInt这个函数太普通了，怎么能装逼。答案是~~<br>现在摁下F12，在console里复制粘贴这样的代码：<br>~~3.14159// =&gt; 3<br>~~5.678// =&gt; 5</p>
<p>这个技巧十分装逼，原理是~是一个叫做按位非的操作，会返回数值的反码。是二进制操作。Hex十六进制操作。其实就是一个Array.prototype.toString(16)的用法<br>看到这个词脑袋里冒出的肯定是CSS的颜色。<br>做到随机的话可以这样</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(~~(Math.random()*(1&#60;&#60;24))).toString(16)</span><br></pre></td></tr></table></figure>
<p>其实还有一种更容易理解的方法来解释<br>Math.pow(2,24) === (1 &lt;&lt; 24)</p>
<p>因为是二进制操作，所以速度是很快的。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[].forEach.call($$(&#34;*&#34;),function(a)&#123;&#10;    a.style.outline=&#34;1px solid #&#34;+(~~(Math.random()*(1&#60;&#60;24))).toString(16)&#10;&#125;)&#10;//&#32763;&#35793;&#25104;&#27491;&#24120;&#35821;&#35328;&#23601;&#26159;&#36825;&#26679;&#30340;&#10;Array.prototype.forEach.call(document.querySelectorAll(&#39;*&#39;), dom =&#62; dom.style.outline = `1px solid #$&#123;parseInt(Math.random() * Math.pow(2,24)).toString(16)&#125;`)</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/25/js date/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          js Date
        
      </div>
    </a>
  
  
    <a href="/2015/12/25/iconate.js/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">iconate.js</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>








</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div>&copy; 2016 任先生在路上 的博客 , 技术 
        <a href="http://hexo.io/" target="_blank">Hexo</a>  
      </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>